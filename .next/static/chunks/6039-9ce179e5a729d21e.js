(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6039],{7183:function(e,t,r){"use strict";var n=r(5934),a=r(7584),o=r(668),s=(0,n.Z)(a.ZP)({"&.MuiInputBase-root":{color:"".concat(o.Z.gray)},"& .MuiInputBase-input":{padding:0}});t.Z=s},7676:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ie}});var n=r(5893),a=r(7294),o=r(2633),s=r(4051),i=r.n(s),c=r(1163),l=r(6886),u=r(4184),d=r.n(u),h=r(7484),v=r.n(h),f=r(8767),m=r(6316),p=r.n(m),g=r(7357),x=r(5861),b=r(5113),j=r(9073),y=r(6486),_=r.n(y),w=r(246),Z=r.n(w),S=r(7183),N=function(e){return e.sort((function(e,t){var r=v()(e.last_chat_message_at);return v()(t.last_chat_message_at).isAfter(r)?1:-1})),e},M=function(e){var t=e.listRooms,r=e.userId,o=e.onSelectRoom,s=e.setSearchChatRoom,i=e.hasMoreChatRoom,c=e.loadMoreChatRooms,u=(0,j.$G)().t,d=(0,a.useRef)(null),h=(0,a.useCallback)(_().debounce((function(e){s({search:e,cursor:null})}),1e3),[]);return(0,n.jsxs)(l.ZP,{item:!0,className:p().chatBoxLeft,children:[(0,n.jsx)(g.Z,{className:"box-title",children:(0,n.jsx)(x.Z,{className:"title",children:u("chat:box-left-title")})}),(0,n.jsx)(g.Z,{className:"box-search",children:(0,n.jsxs)(b.Z,{className:"input-search",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:[(0,n.jsx)("img",{alt:"search",src:"/assets/images/svg/ic_search.svg"}),(0,n.jsx)(S.Z,{inputRef:d,sx:{ml:1,flex:1},placeholder:u("chat:box-left-input-search-placeholder"),inputProps:{"aria-label":u("chat:box-left-input-search-placeholder")},onKeyUp:function(){h(d.current.value)}})]})}),(0,n.jsx)(g.Z,{className:"box-content",children:(0,n.jsx)("ul",{className:p().boxThreads,children:(0,n.jsx)(Z(),{loadMore:c,hasMore:i.hasMore,loader:"",useWindow:!1,children:null===t||void 0===t?void 0:t.map((function(e,t){var a,s,i,c;return(0,n.jsx)("li",{onClick:function(){return o(t)},children:(0,n.jsxs)("div",{className:"thread-item ".concat((null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.id)===r?"active":""),children:[(0,n.jsx)("div",{className:"avatar",children:(0,n.jsx)("img",{alt:"avatar",src:(null===e||void 0===e||null===(s=e.user)||void 0===s?void 0:s.profile_image)||"/assets/images/svg/avatar.svg"})}),(0,n.jsxs)("div",{className:"thread-content",children:[(0,n.jsx)(x.Z,{className:"name",children:null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.username}),(0,n.jsx)(x.Z,{className:"message-hide",children:null===e||void 0===e?void 0:e.last_chat_message_received})]}),(0,n.jsx)("div",{className:"thread-last-time",children:(c=null===e||void 0===e?void 0:e.last_chat_message_at,v()(new Date).format("YYYYMMDD")===v()(c).format("YYYYMMDD")?v()(c).format("HH:mm"):v()(c).format("YYYY/MM/DD"))})]})},t)}))})})})]})},O=r(3597),k=r(1493),P=r(3612);function R(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(n,a)}function C(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){R(o,n,a,s,i,"next",e)}function i(e){R(o,n,a,s,i,"throw",e)}s(void 0)}))}}var D=function(){var e=C(i().mark((function e(){var t,r,n,a,o,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",r=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:k.PX,e.prev=1,a=t?{cursor:r,limit:n,search:t}:{cursor:r,limit:n},e.next=6,P.h.get("/user/chat-rooms",{params:a});case 6:return o=e.sent,e.abrupt("return",o.data);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=C(i().mark((function e(t){var r,n,a,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"",n=o.length>2&&void 0!==o[2]?o[2]:k.PX,e.prev=1,e.next=4,P.h.get("/user/".concat(t,"/messages?limit=").concat(n,"&cursor=").concat(r));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),A=r(528),I=r(9661),T=r(3946),H=r(2944),L=r(6105),Y=r(7133),z=r(9294),B=r(5208);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(n,a)}function $(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){W(o,n,a,s,i,"next",e)}function i(e){W(o,n,a,s,i,"throw",e)}s(void 0)}))}}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){G(e,t,r[t])}))}return e}function q(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(e){var t=e.message,r=e.time,o=e.isStartOfDay,s=void 0!==o&&o,i=e.isErrorMessage,c=void 0!==i&&i,l=(0,j.$G)().t;return(0,n.jsxs)(a.Fragment,{children:[s?(0,n.jsx)("div",{className:p().spanStartOfDay,children:(0,n.jsx)("span",{children:"\u4eca\u65e5"})}):null,(0,n.jsxs)(g.Z,{className:p().itemMessageMyChat,children:[(0,n.jsx)(x.Z,{className:"time",children:r}),(0,n.jsx)("div",{className:"message-content ".concat(c?"error-message":""),children:t})]}),c?(0,n.jsxs)("div",{className:p().errorMessage,children:[(0,n.jsx)("div",{className:"span-error-message",children:l("chat:span-error-message")}),(0,n.jsxs)("div",{className:"div-btn-action",children:[(0,n.jsx)("a",{type:"button",className:"btn-action btn-resend",children:l("chat:btn-resend")}),(0,n.jsx)("a",{type:"button",className:"btn-action btn-delete",children:l("chat:btn-delete")})]})]}):null]})},J=function(e){var t=e.avatar,r=e.message,a=e.time;return(0,n.jsxs)(g.Z,{className:p().itemMsgOther,children:[(0,n.jsx)(I.Z,{className:"avatar",alt:"Avatar",src:t}),(0,n.jsx)("div",{className:"message-content",children:r}),(0,n.jsx)(x.Z,{className:"time",children:a})]})},X=function(e){var t=e.name,r=e.handleClick;return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(T.Z,{onClick:r,sx:{paddingLeft:0,paddingRight:"20px"},children:(0,n.jsx)("img",{alt:"back",src:"/assets/images/chat/ic_back.svg",width:6})}),t]})},Q=function(e){var t,r=e.isMobile,o=e.toggleRenderSide,s=e.userId,c=e.roomSelect,u=e.sendTextMessage,d=e.newMessageOfRoom,h=e.user,m=(0,j.$G)().t,y=(0,a.useRef)(null),_=(0,a.useRef)(null),w=(0,a.useRef)(!0),N=(0,a.useState)([]),M=N[0],O=N[1],P=(0,a.useState)({cursor:null,hasMore:!1}),R=P[0],C=P[1],D=(0,a.useState)(!1),A=D[0],I=D[1],F=(0,a.useState)(!1),W=F[0],G=F[1];(0,a.useEffect)((function(){(w.current||_.current.offsetHeight+_.current.scrollTop+100>=_.current.scrollHeight)&&((0,z.Z)(_.current),(null===M||void 0===M?void 0:M.length)&&(w.current=!1))}),[M]);var Q=(0,f.useQuery)([k.pn.PERSONAL_CHAT.LIST_MESSAGES,s],$(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,E(s);case 3:return r=e.sent,e.abrupt("return",K({},r,{items:(null===r||void 0===r||null===(t=r.items)||void 0===t?void 0:t.reverse())||[]}));case 5:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1,enabled:!!s}).data;(0,a.useEffect)((function(){O([]),C({cursor:null,hasMore:!1}),O((null===Q||void 0===Q?void 0:Q.items)||[]),C({cursor:null===Q||void 0===Q?void 0:Q.cursor,hasMore:null===Q||void 0===Q?void 0:Q.hasMore}),w.current=!0,y.current.focus()}),[Q]);var V=function(){var e=$(i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===R||void 0===R||null===(t=R.cursor)||void 0===t?void 0:t.length)||!M.length){e.next=9;break}return e.next=5,E(s,null===R||void 0===R?void 0:R.cursor);case 5:n=e.sent,O(q((null===n||void 0===n||null===(r=n.items)||void 0===r?void 0:r.reverse())||[]).concat(q(M))),C({cursor:null===n||void 0===n?void 0:n.cursor,hasMore:null===n||void 0===n?void 0:n.hasMore}),w.current=!1;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){d&&(null===d||void 0===d?void 0:d.chat_room_id)===c.id&&O(q(M).concat([d]))}),[d]);var ee=function(){var e=y.current.value.trim();e&&(u(e),O(q(M).concat([{content:e,content_type:k.wM.TEXT,created_at:v()(new Date).toISOString(),sender_id:"123"}])),y.current.value="")};return(0,n.jsxs)(l.ZP,{item:!0,className:p().chatBoxRight,children:[(0,n.jsxs)(g.Z,{className:"box-title",children:[(0,n.jsx)(x.Z,{className:"username",children:r?(0,n.jsx)(X,{name:"\u798f\u304f\u3093\u682a\u5f0f\u4f1a\u793e",handleClick:o}):null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.username}),(0,n.jsx)(H.Z,{mode:"info",size:"medium",className:"btn-chat",onClick:function(){I(!0)},children:m("chat:btn-report")}),(0,n.jsx)("div",{className:"btn-review",children:(0,n.jsx)(H.Z,{mode:"orange",size:"medium",className:"btn-chat",onClick:function(){return G(!0)},children:m(r?"chat:btn-review-sp":"chat:btn-review")})})]}),(0,n.jsx)(g.Z,{className:"box-content",children:(0,n.jsx)(g.Z,{className:p().boxData,id:"box-message",ref:_,children:(null===M||void 0===M?void 0:M.length)?(0,n.jsx)(Z(),{loadMore:V,hasMore:!!(null===M||void 0===M?void 0:M.length)&&R.hasMore&&!w.current,loader:"loading...",isReverse:!0,useWindow:!1,children:null===M||void 0===M?void 0:M.map((function(e,t){var r;return(null===e||void 0===e?void 0:e.sender_id)!==s?(0,n.jsx)(U,{message:null===e||void 0===e?void 0:e.content,time:(0,B.N)(null===e||void 0===e?void 0:e.created_at)},t):(0,n.jsx)(J,{avatar:(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.profile_image)||"/assets/images/svg/avatar.svg",message:null===e||void 0===e?void 0:e.content,time:(0,B.N)(null===e||void 0===e?void 0:e.created_at)},t)}))}):null})}),(0,n.jsx)(g.Z,{className:p().boxChat,children:(0,n.jsxs)(b.Z,{className:"paper-chat",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:[(0,n.jsx)(S.Z,{multiline:!0,className:"input-chat",inputRef:y,id:"input_chat_text",sx:{ml:1,flex:1},placeholder:m("chat:input-chat-placeholder"),inputProps:{"aria-label":m("chat:input-chat-placeholder")},onKeyUp:function(e){!e.shiftKey&&13===e.keyCode&&e.target.value&&ee()}}),(0,n.jsx)("input",{accept:"image/*",hidden:!0,id:"icon-button-file",type:"file"}),(0,n.jsx)("label",{htmlFor:"icon-button-file",children:(0,n.jsx)(T.Z,{color:"primary",sx:{p:"10px"},"aria-label":"directions",component:"span",children:(0,n.jsx)("img",{alt:"search",src:"/assets/images/svg/ic_attachment.svg"})})}),(0,n.jsx)(T.Z,{color:"primary",sx:{p:"10px"},"aria-label":"directions",onClick:ee,children:(0,n.jsx)("img",{alt:"search",src:"/assets/images/svg/ic_send_message.svg"})})]})}),(0,n.jsx)(L.Z,{showPopup:A,setShowPopup:I,user:h}),(0,n.jsx)(Y.Z,{showPopup:W,setShowPopup:G,user:h})]})},V=function(){var e=(0,j.$G)().t;return(0,n.jsxs)(l.ZP,{item:!0,className:p().chatBoxRight,children:[(0,n.jsx)(g.Z,{className:"box-title"}),(0,n.jsxs)(g.Z,{className:"box-content",children:[(0,n.jsxs)(g.Z,{className:p().boxNoData,children:[(0,n.jsx)(x.Z,{className:"title",children:e("chat:box-right-no-data")}),(0,n.jsx)("img",{alt:"no-data",src:"/assets/images/chat-no-data.png",width:245}),(0,n.jsx)(H.Z,{className:"btn-find",mode:"gradient",children:e("chat:box-right-button-find")})]}),(0,n.jsx)(g.Z,{className:"box-chat",children:(0,n.jsxs)(b.Z,{component:"form",className:"paper-chat",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:[(0,n.jsx)(S.Z,{className:"input-chat",sx:{ml:1,flex:1},placeholder:e("chat:input-chat-placeholder"),inputProps:{"aria-label":e("chat:input-chat-placeholder")}}),(0,n.jsx)(T.Z,{color:"primary",sx:{p:"10px"},"aria-label":"directions",children:(0,n.jsx)("img",{alt:"search",src:"/assets/images/svg/ic_attachment.svg"})}),(0,n.jsx)(T.Z,{color:"primary",sx:{p:"10px"},"aria-label":"directions",children:(0,n.jsx)("img",{alt:"search",src:"/assets/images/svg/ic_send_message.svg"})})]})})]})]})};function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(n,a)}function re(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){te(o,n,a,s,i,"next",e)}function i(e){te(o,n,a,s,i,"throw",e)}s(void 0)}))}}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ne(e,t,r[t])}))}return e}function oe(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var se=function(e){var t=e.hasData,r=e.setHasData,o=(0,c.useRouter)(),s=o.query.room,u=(0,O.Z)().width<=992,h=(0,a.useState)(!1),m=h[0],g=h[1],x=(0,a.useState)([]),b=x[0],j=x[1],y=(0,a.useState)(null),_=y[0],w=y[1],Z=(0,a.useState)({}),S=Z[0],P=Z[1],R=(0,a.useState)(null),C=R[0],E=R[1],I=(0,a.useState)({cursor:null,hasMore:!1}),T=I[0],H=I[1],L=(0,a.useState)(null),Y=L[0],z=L[1],B=(0,a.useState)({search:null,cursor:null}),F=B[0],W=B[1],$=(0,a.useRef)([]),G=(0,a.useRef)(null),K=(0,a.useRef)(null),q=function(){var e=re(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,j(N(null===(r=$.current)||void 0===r?void 0:r.map((function(e){return e.id===t.chat_room_id?(n=!0,ae({},e,{last_chat_message_at:v()(new Date).toISOString(),last_chat_message_received:t.content})):e})))),!n&&(null===t||void 0===t?void 0:t.user)&&j(N([{id:t.chat_room_id,user:(null===t||void 0===t?void 0:t.user)||{},last_chat_message_at:v()(new Date).toISOString(),last_chat_message_received:t.content}].concat(oe($.current))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){$.current=b,!t&&(null===b||void 0===b?void 0:b.length)&&r(!0)}),[b]),(0,a.useEffect)((function(){G.current=(null===C||void 0===C?void 0:C.id)||null,(null===C||void 0===C?void 0:C.id)&&o.push({pathname:"/chat/personal",query:{room:null===C||void 0===C?void 0:C.id}},void 0,{shallow:!0})}),[C]),(0,a.useEffect)((function(){u&&g(!0),K.current=new WebSocket("".concat("wss://c9b60njp5b.execute-api.ap-northeast-1.amazonaws.com/staging?token=").concat((0,A.LP)())),K.current.addEventListener("open",(function(){console.log("WebSocket is connected")})),K.current.addEventListener("error",(function(e){console.error("WebSocket is in error",e),K.current=new WebSocket("".concat("wss://c9b60njp5b.execute-api.ap-northeast-1.amazonaws.com/staging?token=").concat((0,A.LP)()))})),K.current.addEventListener("message",(function(e){var t=JSON.parse(e.data);if(console.log("WebSocket received a message",Object.keys(t)),t["get.chatRoom.message"]){var r=t["get.chatRoom.message"];G.current===r.chat_room_id&&z(r),q(r)}}))}),[]);var U=(0,f.useQuery)([k.pn.PERSONAL_CHAT.LIST_CHAT_ROOMS,F],re(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(null===F||void 0===F?void 0:F.search,null===F||void 0===F?void 0:F.cursor);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}).data;(0,a.useEffect)((function(){if(j(N((null===U||void 0===U?void 0:U.items)||[])),!(null===C||void 0===C?void 0:C.id)){var e,t,r,n,a,o=null===U||void 0===U||null===(e=U.items)||void 0===e?void 0:e.find((function(e){return e.id===s}));if(o)E(o),w(null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.id),P(null===o||void 0===o?void 0:o.user);else E((null===U||void 0===U?void 0:U.items[0])||{}),w(null===(r=null===U||void 0===U?void 0:U.items[0])||void 0===r||null===(n=r.user)||void 0===n?void 0:n.id),P(null===(a=null===U||void 0===U?void 0:U.items[0])||void 0===a?void 0:a.user)}H({cursor:null===U||void 0===U?void 0:U.cursor,hasMore:null===U||void 0===U?void 0:U.hasMore})}),[U]);var J=function(){var e=re(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(t=T.cursor)||void 0===t?void 0:t.length)){e.next=7;break}return e.next=4,D(null===F||void 0===F?void 0:F.search,T.cursor);case 4:r=e.sent,j(N(oe(b).concat(oe((null===r||void 0===r?void 0:r.items)||[])))),H({cursor:null===r||void 0===r?void 0:r.cursor,hasMore:null===r||void 0===r?void 0:r.hasMore});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,n.jsxs)(l.ZP,{container:!0,className:d()(p().chatContainerPC),children:[!u||u&&!m?(0,n.jsx)(M,{listRooms:b,userId:_,onSelectRoom:function(e){var t,r,n,a,o;(g(!m),(null===(t=b[e])||void 0===t||null===(r=t.user)||void 0===r?void 0:r.id)!==_)&&(E(b[e]),w(null===(n=b[e])||void 0===n||null===(a=n.user)||void 0===a?void 0:a.id),P(null===(o=b[e])||void 0===o?void 0:o.user))},setSearchChatRoom:W,hasMoreChatRoom:T,loadMoreChatRooms:J}):null,!t&&(0,n.jsx)(V,{}),t&&(!u||u&&m)?(0,n.jsx)(Q,{isMobile:u,toggleRenderSide:function(){return g(!m)},userId:_,user:S,roomSelect:C,sendTextMessage:function(e){if(e){var t={event:"chatRoom.message",chatRoomId:null===C||void 0===C?void 0:C.id,content:e,content_type:"text"};K.current.send(JSON.stringify(t)),q({content:e,chat_room_id:C.id})}},newMessageOfRoom:Y}):null]})},ie=function(){var e=(0,a.useState)(!1),t=e[0],r=e[1];return(0,n.jsx)(o.Z,{showFooter:!1,children:(0,n.jsx)(se,{hasData:t,setHasData:r})})}},2944:function(e,t,r){"use strict";var n=r(5893),a=r(7294),o=r(3321),s=r(1496),i=r(668);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var d=(0,s.ZP)(o.Z)({borderRadius:40,textTransform:"capitalize","&:hover":{opacity:.9}}),h=(0,s.ZP)(d)({background:i.Z.green,"&:hover":{background:i.Z.green},color:"white"}),v=(0,s.ZP)(d)({background:i.Z.gray,"&:hover":{background:i.Z.gray},color:"white"}),f=(0,s.ZP)(d)({background:i.Z.orange,"&:hover":{background:i.Z.orange},color:"white"}),m=(0,s.ZP)(d)({background:i.Z.cleam,"&:hover":{background:i.Z.cleam},color:i.Z.navy}),p=(0,s.ZP)(d)({background:i.Z.blue,"&:hover":{background:i.Z.blue},color:"white"}),g=(0,s.ZP)(d)({background:i.Z.gd,"&:hover":{background:i.Z.gd},color:"white"});function x(e,t,r){switch(e){case"green":return(0,n.jsx)(h,l({},r,{children:t}));case"orange":return(0,n.jsx)(f,l({},r,{children:t}));case"info":return(0,n.jsx)(p,l({},r,{children:t}));case"cleam":return(0,n.jsx)(m,l({},r,{children:t}));case"gradient":return(0,n.jsx)(g,l({},r,{children:t}));default:return(0,n.jsx)(v,l({},r,{children:t}))}}t.Z=function(e){var t=e.children,r=e.mode,o=u(e,["children","mode"]);return(0,n.jsx)(a.Fragment,{children:x(r,t,o)})}},9294:function(e,t){"use strict";t.Z=function(e){e.scroll({top:e.scrollHeight,left:0})}},3597:function(e,t,r){"use strict";var n=r(7294);t.Z=function(){var e=(0,n.useState)({width:void 0,height:void 0}),t=e[0],r=e[1];return(0,n.useEffect)((function(){var e=function(){r({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}},5208:function(e,t,r){"use strict";r.d(t,{q:function(){return o},N:function(){return s}});var n=r(7484),a=r.n(n),o=function(e,t){return e.replace("%s",t.toString())},s=function(e){return a()(e).format("HH:mm")}},6316:function(e){e.exports={chatContainerPC:"chat_chatContainerPC__zZ14c",chatBoxLeft:"chat_chatBoxLeft__nFMFT",chatBoxRight:"chat_chatBoxRight__9SH5t",boxNoData:"chat_boxNoData__vrMFv",boxData:"chat_boxData__yj19f",itemMsgOther:"chat_itemMsgOther___KJcC",spanStartOfDay:"chat_spanStartOfDay__1b0N_",itemMessageMyChat:"chat_itemMessageMyChat__8qi1p",errorMessage:"chat_errorMessage__Bj7Ku",boxChat:"chat_boxChat__HY_5d",chatContainerMobile:"chat_chatContainerMobile__v71zD",boxThreads:"chat_boxThreads__jzS5Y"}}}]);